#.github/workflows/myAction.yml

name: "Yedekleme Islemi"

on:
  push:
    branches:
      - main
  workflow_dispatch:

jobs:
  run-backup:
    # Temizlik işinin çalışabilmesi için gerekli izinler
    permissions:
      contents: read  # Depoyu okumak için
      actions: write   # Önbelleği silebilmek için
    
    uses: berkayy-atas/marketplace-test-workflow/.github/workflows/reusable-backup-workflow.yml@main
    with:
      # Yeniden kullanılabilir iş akışının beklediği GEREKLİ girdiler
      source-path: './' # Yedeklenecek dosya veya dizinin yolu
      backup-file-name: 'my-repo-backup.zip' # Oluşturulacak yedek dosyasının adı
    secrets:
      # Gerekli secret'ları yeniden kullanılabilir iş akışına aktarın
      activation_code: ${{ secrets.ACTIVATION_CODE }}
      encryption_password: ${{ secrets.ENCRYPTION_KEY }}
